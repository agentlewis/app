import { createStore, applyMiddleware } from 'redux'
import reducers from 'reducers'
import effects from 'redux-effects'
import fetch from 'redux-effects-fetch'
import events from 'redux-effects-events'
import multi from 'redux-multi'
import logger from 'redux-logger'

const middleware = [
   multi,
   effects,
   events(),
   fetch,
   logger
]

function configureStore (initialState) {
  return applyMiddleware(...middleware)(createStore)(reducers, initialState)
}

export default configureStore
