var Collection = require('ampersand-collection')

var Store = Collection.extend({
  model: function (attrs, options) {
    var types = require('types')
    var type = types[attrs['@type']]
    var Model = type.Model
    return new Model(attrs, options)
  }
})

module.exports = new Store()
