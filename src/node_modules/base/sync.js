var camelCase = require('camel-case')
var Path = require('path')
var Url = require('url')

var fsSync = require('fs-sync')
var config = require('config')

var yamlCodec = {
  extname: ".yml",
  serialize: function serializeYaml (obj) {
    var yaml = require('js-yaml');
    return yaml.safeDump(obj);
  },
  deserialize: function deserializeYaml (str) {
    var yaml = require('js-yaml');
    return yaml.safeLoad(str)
  },
}

module.exports = function (model) {
  if (model.isCollection) {
    return fsSync({
      location: config.data.location,
      codec: yamlCodec,
    })
  }
}
