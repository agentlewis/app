var urlRe = require('url-regex')({ exact: true })

module.exports = {
  isUrl: function (val) {
    return urlRe.test(val)
  },
  set: function (newVal) {
    var isUrl = this.isUrl(newVal)
    if (!newVal) {
      return {
        val: '',
        type: 'url'
      }
    }
    return {
      val: newVal,
      type: isUrl ? 'url' : typeof newVal
    }
  },
  default: function () {
    return ''
  }
}
