var getters = require('./getters')

module.exports = {
  id: 'Agent',
  collection: 'agents',
  prefixes: require('base').vocab.prefixes,
  context: 'foaf:Agent',
  description: 'A thing with agency.',
  properties: {
    id: {
      context: '@id',
      description: 'The identifier of the agent',
      type: 'string',
      format: 'uri'
    },
    name: {
      context: 'schema:name',
      description: 'The primary name of the agent.',
      type: 'string'
    },
    image: {
      context: 'schema:image',
      description: 'An avatar of the agent.',
      type: 'string',
      format: 'uri'
    },
    roles: {
      context: 'hol:hasRole',
      description: 'The roles the agent is in.',
      type: 'array',
      items: {
        $ref: 'Role'
      },
      get: getters.rolesByAgent
    },
    relationships: {
      context: 'hol:hasRelationship',
      description: 'The relationships the agent has with other agents.',
      type: 'array',
      items: {
        $ref: 'Relationship'
      },
      get: getters.relationshipsByAgent
    },
    groups: {
      context: 'schema:memberOf',
      description: 'The groups the agent is a member of.',
      type: 'array',
      items: {
        $ref: 'Agent'
      },
      get: getters.groupsByAgent
    }
  }
}
