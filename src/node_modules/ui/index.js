import { connect } from 'react-redux'
var React = require('react')
var r = require('r-dom')
var debug = require('debug')('ui:index')
var Graph = require('graph')
var ThemeManager = require('material-ui/lib/styles/theme-manager')
var themeManager = new ThemeManager
var LightTheme = require('./light-theme')
themeManager.setTheme(LightTheme)


//getters
import { getters, reducers } from 'types'
import * as actionCreators from 'actionCreators'

const Ui = React.createClass({

  childContextTypes: {
    muiTheme: React.PropTypes.object
  },

  getChildContext: function () {
    return {
      muiTheme: themeManager.getCurrentTheme()
    }
  },

  render: function () {
    debug('props, state', this.props, this.state)
    let state = this.props.store.getState()

    return r(Graph, {
      agents: this.props.agents(state),
      relationships: this.props.relationships(state),
    })

  },

})

export default connect(getters)(Ui)
