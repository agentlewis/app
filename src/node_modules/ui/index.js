var React = require('react')
var r = require('r-dom')
var debug = require('debug')('ui:index')

var router = require('router')
var collections = require('collections')
var Layout = require('layout')

var FourOhFourPage = require('./404')

module.exports = React.createClass({

  render: function () {
    var route = this.props.route;

    var Page;
    if (route) {
      Page = collections[route.collection].Page;
    } else {
      Page = FourOhFourPage;
    }

    debug('collections', collections, route)

    return (
      r(Layout, this.props, [
        r(Page, this.props)
      ])
    )
  },
})
