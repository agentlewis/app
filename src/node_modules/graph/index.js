var React = require('react')
var r = require('r-dom')
var debug = require('debug')('graph')
var Layout = require('ngraph.forcelayout')
const iterations = 10
import { loadAgentGraph } from './action-creators'

var each = require('lodash.foreach')


module.exports = React.createClass({

  propTypes: {
    dispatch: React.PropTypes.func,
    route: React.PropTypes.object,
    agents: React.PropTypes.array,
    relationships: React.PropTypes.array
  },

  componentWillMount: function () {
    const { dispatch, route } = this.props
    debug('componentWillMount', dispatch, loadAgentGraph)

    dispatch(loadAgentGraph(route.context))

  },

  componentWillReceiveProps: function (nextProps) {
    const { dispatch, route } = this.props

    if (nextProps.route !== route) { // TODO
      dispatch(loadAgentGraph(route.context))
    }
  },

  render: function () {
    debug('props, state', this.props, this.state)




    return r.div({ className: 'test'})



  },

})
