import { graphTick, graphStart, graphEnd } from './action-creators'
const debug = require('debug')('graph:actors')

export const graphStartActor = (state, dispatch) => {
  debug(state.graph)
  if (state.graph && state.graph.layout && !state.graph.updatingLayout) {
    dispatch(graphStart())
    state.graph.layout.on('tick', function () {
      debug('cola tick')
      dispatch(graphTick())
    })
    state.graph.layout.start()
    // state.graph.layout.kick()



    // debug(state.graph.layout.on('tick'))
    // state.graph.layout.on('end', () => {
    //   dispatch
    // })
  }
}

export const graphEndActor = (state, dispatch) => {

}
