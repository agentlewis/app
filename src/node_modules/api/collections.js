var _ = require('lodash');

var collections = require('collections')
var Service = require('base/service')

// fill in any necessary defaults
_.forEach(collections, function (type, pluralName) {

  if (!type.service) {
    // create default service from base service
    type.service = Service(type.collection)
  }

  // pre-fetch collection data
  type.collection.fetch()
});

module.exports = collections;
