import { createSelector } from 'reselect'
import filter from 'lodash.filter'
const initialState = require('./reducers').initialState

// TEMP
const state = { queryText: initialState }

const queryTextById = state => state.queryText.byId

const relQueryText = (relId, agentType) => {
  return createSelector(
    [queryTextById],
    queryTextById => {
      if (agentType) {
        return filter(queryTextById, (label) => {
          return label.relationship === relId && label.agentType === agentType
        })
      } else {
        return filter(queryTextById, (label) => {
          return label.relationship === relId
        })
      }
    }
  )
}

module.exports = {
  queryTextById: queryTextById,
  relQueryText: relQueryText,
}
