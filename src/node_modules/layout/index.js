var React = require('react')
var r = require('r-dom')
var debug = require('debug')('holodex:ui:layout')
var Sidebar = require('sidebar')
var IconFactory = require('react-icon-factory')
var RawView = require('base/views/raw')
var isDev = require('util/isDev')
var Icon = IconFactory({
  'chevron-right': r.g([
    r.path(
      { d: "M10 6l-1.41 1.41 4.58 4.59-4.58 4.59 1.41 1.41 6-6z" }
    )
    ]
  ),
  'chevron-left': r.g([
    r.path(
      { d: "M15.41 7.41l-1.41-1.41-6 6 6 6 1.41-1.41-4.58-4.59z" }
    )
    ]
  )
})

var iconStyle = {


}



var style = require('./style')

module.exports = React.createClass({

  getInitialState: function () {
    return {
      leftPane: true,
      rightPane: false
    }
  },

  render: function () {
    debug('render', this.props)
    var self = this
    var route = self.props.route
    var model = self.props.model
    var leftPaneActive = self.state.leftPane
    var leftWrapperClass = leftPaneActive ? '' : 'toggled'
    var iconType = leftPaneActive ? 'chevron-left' : 'chevron-right'
    var toggleLeftPane = self.toggleLeftPane


    return (
      r.div({ id: 'wrapper', className: leftWrapperClass }, [
        r(Sidebar, { model: model }),
        r.div( { id: 'page-content-wrapper'}, [
          r.div({}, this.props.children),
          r(Icon, { className: 'toggle-sidebar-icon', icon: iconType, onClick: toggleLeftPane }),
        ])
      ])
    )
  },

  toggleLeftPane: function () {
    var bool = !this.state.leftPane
    this.setState( { leftPane: bool })
  }


})
