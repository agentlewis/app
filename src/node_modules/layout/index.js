var React = require('react')
var r = require('r-dom')
var debug = require('debug')('holodex:ui:layout')
var Sidebar = require('sidebar')

var RawView = require('base/views/raw')
var isDev = require('util/isDev')

var style = require('./style')

module.exports = React.createClass({

  render: function () {

    debug('render', this.props)

    var route = this.props.route

    return (
      r.div({}, [
        r(Sidebar),
        r.div( { id: 'page-content-wrapper'}, [
          isDev ? (
            r.div({
              className: "debug",
            }, [
              r.header({},
                       "collection: " + route.collection
                       + ", id: " + route.id
                       + ", relation: " + route.relation
                       + ", query: " + JSON.stringify(route.query)
                      ),
            ])
          ) : null,
          r.a({
            href: "https://github.com/craftodex/app",
            style: style.projectSource,
            className: "btn btn-default"
          }, "View Source"),
          r.div({}, this.props.children),
        ])
      ])
    )
  },
})
