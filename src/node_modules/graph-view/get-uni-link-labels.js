var clone = require('lodash.clone')
var keys = require('lodash.keys')
var isUrl = require('is-url-superb')

var store = require('base/store')

var colors = require('ui/vars').nodesAndLinks

var debug = require('debug')('graph-view/get-uni-link-labels')

module.exports = function (graph) {
  var uniLinkLabels = {}

  graph.forEachLink(function (link) {
    // var linkTypeId = link.data.type.getId()
    link.data.roles.forEach(function (role) {
      var linkLabel = role.label.split(' ').filter(function (word) { return !isUrl(word) }).join(' ')
      console.log(linkLabel)
      if(!uniLinkLabels[linkLabel]) {
        uniLinkLabels[linkLabel] = {
          active: false,
          color: colors[keys(uniLinkLabels).length],
          model: role.type,
        }
        // else if (uniLinkLabels[linkLabel].model){
        //   uniLinkLabels[linkLabel].model =
        // }

      }

    })

  })

  //   if (!linkType) {
  //     linkTypes[linkTypeId] = {
  //       active: false,
  //       color: colors[keys(linkTypes).length],
  //       model: link.data.type
  //     }
  //   } else if (!linkType.model) {
  //     linkType.model = store.findById(linkTypeId)
  //   }
  // })
  return uniLinkLabels
}
