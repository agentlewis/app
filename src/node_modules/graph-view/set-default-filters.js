var Url = require('url')
var config = require('config')
var prefix = Url.format(config.api)
var member = prefix + '/roleTypes/member'

module.exports = function (filter, agentType, hasChildren) {
  if (agentType === 'Person') {
    //[People who] [link] [Person]
    filter.agentType.active = filter.roleType.active = filter.linkType.active = true
  }
  else {
    if (hasChildren && filter.id === 'Group-' + member) {
      //[Groups that] [belong to] [Group]
      filter.agentType.active = filter.roleType.active = filter.linkType.active = true
    }
    else if (filter.id === 'Person-' + member) {
      //[People in] [Group]
      filter.agentType.active = filter.roleType.active = true
    }
  }
  return filter
}
