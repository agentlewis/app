var store = require('base/store')
var Labels = require('./labels')
var clone = require('lodash.clone')
var debug = require('debug')('graph-view:get-options')

module.exports = function (model) {
  var options = []
  model.filtersByType.targetAgent.forEach(function (filter) {
    if (!filter.agentType.active) {
      debug('filter', filter)
      var option = {
        filter: filter,
        label: Labels.targetAgent[filter.roleType.id].template.format(Labels[filter.agentType.id], model.name),
        type: 'Relation'
      }
      options.push(option)
    }
  })

  model.filtersByType.context.forEach(function (filter) {

    if (!filter.roleType.active) {
      var option = {
        filter: filter,
        label: Labels.contextAgent[filter.roleType.id].template.format(model.name),
        type: 'Role'
      }
      options.push(option)
    }
    if (!filter.linkType.active) {
      var option = {
        filter: filter,
        label: Labels.contextAgent[filter.linkType.id].label,
        type: 'Link'
      }
      options.push(option)
    }
  })

  return options
}
