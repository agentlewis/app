var debug = require('debug')('filter-options')

module.exports = function (queries) {
  return queries.inactive.reduce(function (memo, query) {
    var inverseQueryActive

    if(query.component.inverse) {
      var targetId = query.component.inverse.id + '.src.' + query.target.id
      if (queries.queryMap[targetId]) { inverseQueryActive = true }
      else {
        var sourceId = query.component.inverse.id + '.tgt.' + query.source.id
        if (queries.queryMap[sourceId]) { inverseQueryActive = true }
      }
    }

    if (!inverseQueryActive) {
      query.labels.forEach(function (label) { memo.push(label) })
    }

    return memo
  }, [])
}
