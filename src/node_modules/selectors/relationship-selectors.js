import { createSelector } from 'reselect'
import filter from 'lodash.filter'

const relIdsSelector = state => state.relationships.ids
const relByIds = state.relationships.byId

const agentRelsSelector = agentId => {
  return createSelector(
    [relByIds],
    relByIds => {
      return filter(relByIds, (relationship) => {
        return relationship.source === agentId || relationship.target === agentId
      })
    }
  )
}

const agentRelsAsSourceSelector = agentId => {
  return createSelector(
    [relByIds],
    relByIds => {
      return filter(relByIds, (relationship) => {
        return relationship.source === agentId
      })
    }
  )
}

const agentRelsAsTargetSelector = agentId => {
  return createSelector(
    [relByIds],
    relByIds => {
      return filter(relByIds, (relationship) => {
        return relationship.target === agentId
      })
    }
  )
}
